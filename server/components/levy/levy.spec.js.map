{"version":3,"sources":["../../../../server/components/levy/levy.spec.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;sBAEC,QAAQ;;;;6BACO,mBAAmB;;IAApC,WAAW;;AAEvB,IAAM,aAAa,GAAG,OAAO,CAAC;;AAE9B,SAAS,uBAAuB,GAAE;AAChC,SAAO;AACL,UAAM,EAAE,aAAa;AACrB,YAAQ,EAAE,KAAK;AACf,SAAK,EAAE,KAAK;GACb,CAAC;CACH;;AAGD,QAAQ,CAAC,cAAc,EAAE,YAAW;;AAElC,MAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;;AAEpB,IAAE,CAAC,qCAAqC,EAAE,UAAS,IAAI,EAAE;AACvD,WAAO,WAAW,CAAC,qBAAqB,CAAC,uBAAuB,EAAE,CAAC,CAChE,IAAI,CAAC,UAAA,WAAW,EAAI;;AAEnB,aAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,WAAW,CAAC,CAAC;AACtD,iBAAW,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AACxD,UAAI,EAAE,CAAC;KACR,CAAC,CAAC;GACN,CAAC,CAAC;;AAEH,IAAE,CAAC,qCAAqC,EAAE,UAAS,IAAI,EAAE;AACvD,WAAO,WAAW,CAAC,qBAAqB,CAAC,uBAAuB,EAAE,CAAC,CAChE,IAAI,CAAC,UAAA,WAAW,EAAI;AACnB,aAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,WAAW,CAAC,CAAC;AACtD,UAAG;AACD,mBAAW,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;OACzD,CACD,OAAM,GAAG,EAAC;AAAC,eAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;OAAC;;AAE7B,UAAI,EAAE,CAAC;KACR,CAAC,CAAC;GACN,CAAC,CAAC;CAEJ,CAAC,CAAC","file":"levy.spec.js","sourcesContent":["'use strict';\n\nimport _ from 'lodash';\nimport * as LevyService from './levy.service.js';\n\nconst COALMINING_CU = '11010';\n\nfunction getBasicLevyCalculation(){\n  return {\n    cuCode: COALMINING_CU,\n    earnings: 55555,\n    cover: 55555\n  };\n}\n\n\ndescribe('Levy Service', function() {\n\n  this.timeout(10000);\n\n  it('should calculate my levy externally', function(done) {\n    return LevyService.calculateLevyExternal(getBasicLevyCalculation())\n      .then(calculation => {\n\n        console.log('External levy calculation', calculation);\n        calculation.totalWithoutGST.cpx.should.equal('1984.46');\n        done();\n      });\n  });\n\n  it('should calculate my levy internally', function(done) {\n    return LevyService.calculateLevyInternal(getBasicLevyCalculation())\n      .then(calculation => {\n        console.log('Internal levy calculation', calculation);\n        try{\n          calculation.totalWithoutGST.cpx.should.equal('1984.46');\n        }\n        catch(err){console.log(err);}\n\n        done();\n      });\n  });\n\n});\n"]}